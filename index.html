<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>予約管理</title>
  <link rel="stylesheet" href="style.css" />
<link rel="apple-touch-icon" href="icon-192.png">

</head>
<body>
  <header class="topbar">
    <div class="topbar-left">
      <h1 class="app-title">予約管理</h1>
      <div class="badge" id="selectedDateBadge"></div>
    </div>

    <div class="topbar-right">
      <button class="btn ghost" id="todayBtn">今日へ</button>
      <button class="btn" id="newBtn">予約追加</button>
    </div>
  </header>

  <main class="layout">
    <!-- LEFT: calendar + memo -->
    <section class="panel left">
      <div class="calendar-header">
        <button class="icon-btn" id="prevMonthBtn" aria-label="前の月">‹</button>
        <div class="month-title" id="monthTitle"></div>
        <button class="icon-btn" id="nextMonthBtn" aria-label="次の月">›</button>
      </div>

      <div class="weekday-row">
        <div>日</div><div>月</div><div>火</div><div>水</div><div>木</div><div>金</div><div>土</div>
      </div>

      <div class="calendar-grid" id="calendarGrid" aria-label="月カレンダー"></div>

      <div class="memo">
        <div class="memo-title">メモ（選択中の日付）</div>
        <textarea id="dayMemo" placeholder="例：貸切/団体注意、営業時間変更、仕入れメモ など"></textarea>
        <div class="memo-hint" id="memoHint"></div>
      </div>
    </section>

    <!-- RIGHT: sticky notes -->
    <section class="panel right">
      <div class="right-header">
        <div class="right-title">予約（時間順）</div>
        <div class="right-sub" id="rightSub"></div>
      </div>

      <div class="stickies" id="stickies"></div>

      <div class="empty" id="emptyState" hidden>
        <div class="empty-title">予約なし</div>
        <div class="empty-sub">左のカレンダーの日付をタップして予約を追加できます</div>
      </div>
    </section>
  </main>

  <!-- Modal -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-backdrop" id="modalBackdrop"></div>

    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-head">
        <div class="modal-title" id="modalTitle">予約入力</div>
        <button class="icon-btn" id="closeModalBtn" aria-label="閉じる">✕</button>
      </div>

      <form id="reservationForm" class="form">
        <div class="form-row">
          <label>日付</label>
          <input type="date" id="formDate" required />
        </div>

        <div class="form-row">
          <label>開始時刻</label>
          <select id="formTime" required></select>
        </div>

        <div class="form-row">
          <label>名前</label>
          <input type="text" id="formName" list="nameSuggestions" autocomplete="off" placeholder="例：佐藤" required />
          <datalist id="nameSuggestions"></datalist>
        </div>

        <div class="form-row">
          <label>電話番号</label>
          <input type="tel" id="formPhone" inputmode="numeric" placeholder="例：09012345678" />
        </div>

        <div class="form-row">
          <label>人数</label>
          <select id="formPeople" required></select>
        </div>

        <div class="form-row">
          <label>メモ（任意）</label>
          <textarea id="formNote" rows="3" placeholder="例：カウンター希望、19時頃来店など"></textarea>
        </div>

        <div class="form-actions">
          <button type="button" class="btn danger ghost" id="deleteBtn" hidden>削除</button>
          <div class="spacer"></div>
          <button type="button" class="btn ghost" id="cancelBtn">キャンセル</button>
          <button type="submit" class="btn primary" id="saveBtn">保存</button>
        </div>
      </form>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
